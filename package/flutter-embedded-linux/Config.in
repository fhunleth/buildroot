config BR2_PACKAGE_FLUTTER_EMBEDDED_LINUX_ARCH_SUPPORTS
	bool
	default y if BR2_x86_64 || BR2_aarch64

comment "flutter-engine-binaries-for-arm needs a 64-bit architecture and a toolchain w/ dynamic library, threads"
	depends on BR2_USE_MMU # fork()
	depends on BR2_PACKAGE_FLUTTER_EMBEDDED_LINUX_ARCH_SUPPORTS
	depends on !BR2_PACKAGE_HAS_LIBEGL
	depends on BR2_STATIC_LIBS || !BR2_TOOLCHAIN_HAS_THREADS

config BR2_PACKAGE_FLUTTER_EMBEDDED_LINUX
	bool "flutter-engine-binaries-for-arm"
	depends on BR2_USE_MMU # fork()
	depends on !BR2_STATIC_LIBS
	depends on BR2_TOOLCHAIN_HAS_THREADS
	depends on BR2_PACKAGE_HAS_LIBEGL
	depends on BR2_PACKAGE_FLUTTER_EMBEDDED_LINUX_ARCH_SUPPORTS
	depends on BR2_PACKAGE_FLUTTER_ENGINE_BINARIES_FOR_ARM
	select BR2_PACKAGE_LIBINPUT
	select BR2_PACKAGE_LIBXKBCOMMON
	help
	  Embedded Linux embedding for Flutter

	  https://github.com/sony/flutter-embedded-linux
